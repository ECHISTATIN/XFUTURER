{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/jiang/xfuture_r/src/components/mobile/ConsultForm.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\n\ninterface Translations {\n  [key: string]: any; // 根据你的翻译文件结构调整类型\n}\n\nexport default function ServicePage({\n  translations: t,\n}: {\n  translations: Translations;\n}) {\n  const initialFormData = {\n    firstName: \"\",\n    lastName: \"\",\n    companyName: \"\",\n    departmentName: \"\",\n    jobName: \"\",\n    email: \"\",\n    phone: \"\",\n    message: \"\",\n  };\n\n  const [formData, setFormData] = useState(initialFormData);\n\n  const [errors, setErrors] = useState<{ [key: string]: string }>({});\n\n  const handleChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const validateForm = () => {\n    const newErrors: { [key: string]: string } = {};\n    Object.keys(initialFormData).forEach((key) => {\n      if (!formData[key as keyof typeof formData]) {\n        if (key === \"firstName\") newErrors[key] = t.consult.messages.firstName;\n        else if (key === \"lastName\")\n          newErrors[key] = t.consult.messages.lastName;\n        else if (key === \"email\") newErrors[key] = t.consult.messages.email;\n        else if (key === \"phone\") newErrors[key] = t.consult.messages.phone;\n      }\n    });\n    return newErrors;\n  };\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (isSubmitting) return; // 防止重复提交\n    setIsSubmitting(true); // 开始提交时，禁用按钮\n\n    const formErrors = validateForm();\n    if (Object.keys(formErrors).length > 0) {\n      setErrors(formErrors);\n      setIsSubmitting(false); // 发现错误后，解锁按钮\n      return;\n    }\n\n    try {\n      const response = await fetch(\"http://localhost:3000/api/send_email\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          subject: `お問い合わせフォーム - ${formData.firstName} ${formData.lastName} 様より`,\n          text: `\nお名前: ${formData.firstName} ${formData.lastName}\n会社名: ${formData.companyName}\n部署名: ${formData.departmentName}\n役職: ${formData.jobName}\nメールアドレス: ${formData.email}\n電話番号: ${formData.phone}\n問い合わせ内容: ${formData.message}\n          `,\n        }),\n      });\n\n      if (response.ok) {\n        alert(\"Email sent successfully!\");\n        setFormData(initialFormData);\n      } else {\n        const errorMessage = await response.text();\n        alert(`Failed to send email: ${errorMessage}`);\n      }\n    } catch (error) {\n      console.error(\"Error while sending email:\", error);\n      alert(`An error occurred: ${error}`);\n    } finally {\n      setTimeout(() => setIsSubmitting(false), 2000); // 2秒后解禁按钮\n    }\n  };\n\n  const [isChecked, setIsChecked] = useState(false); // 控制勾选状态\n\n  const handleCheckboxChange = () => {\n    setIsChecked(!isChecked); // 切换勾选状态\n  };\n\n  return (\n    <div className=\"consultpage\">\n      <div className=\"route-select\">\n        <div className=\"route-f1\">{t.consult.contactForm}</div>\n        <div className=\"route-line\">\n          <span className=\"route-f2\">{t.consult.home}</span>\n          <img src=\"/images/Polygon2.png\" alt=\"Contact\" />\n          <span className=\"route-f3\">{t.consult.contactForm}</span>\n        </div>\n      </div>\n\n      <form\n        id=\"consultForm\"\n        onSubmit={handleSubmit}\n        style={{\n          width: \"780px\",\n        }}\n      >\n        <div className=\"consult-box\">\n          <div className=\"consult-tb\">\n            <div className=\"input-line\">\n              <div className=\"input-title\">\n                <div className=\"input-fonts\">{t.consult.name}</div>\n                <span className=\"must\">{t.consult.required}</span>\n              </div>\n\n              <div\n                style={{\n                  width: \"680px\",\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  marginTop: \"20px\",\n                }}\n              >\n                <label className=\"input-fonts\">{t.consult.firstName}</label>\n                <input\n                  type=\"text\"\n                  name=\"firstName\"\n                  value={formData.firstName}\n                  onChange={handleChange}\n                  className=\"input-field\"\n                  style={{\n                    width: \"606px\",\n                    marginLeft: \"34px\",\n                  }}\n                  placeholder={\n                    errors.firstName\n                      ? errors.firstName\n                      : t.consult.input.firstName\n                  }\n                />\n              </div>\n              <div\n                style={{\n                  width: \"680px\",\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  marginTop: \"20px\",\n                }}\n              >\n                <label className=\"input-fonts\">{t.consult.lastName}</label>\n                <input\n                  type=\"text\"\n                  name=\"lastName\"\n                  value={formData.lastName}\n                  onChange={handleChange}\n                  className=\"input-field\"\n                  style={{\n                    width: \"606px\",\n                    marginLeft: \"34px\",\n                  }}\n                  placeholder={\n                    errors.lastName ? errors.lastName : t.consult.input.lastName\n                  }\n                />\n              </div>\n            </div>\n\n            <div className=\"input-line\">\n              <label className=\"input-fonts\">{t.consult.companyName}</label>\n              <input\n                type=\"text\"\n                name=\"companyName\"\n                value={formData.companyName}\n                onChange={handleChange}\n                className=\"input-field\"\n                placeholder={\n                  errors.companyName\n                    ? errors.companyName\n                    : t.consult.input.companyName\n                }\n              />\n            </div>\n\n            <div className=\"input-line\">\n              <label className=\"input-fonts\">{t.consult.departmentName}</label>\n              <input\n                type=\"text\"\n                name=\"departmentName\"\n                value={formData.departmentName}\n                onChange={handleChange}\n                className=\"input-field\"\n                placeholder={\n                  errors.departmentName\n                    ? errors.departmentName\n                    : t.consult.input.departmentName\n                }\n              />\n            </div>\n\n            <div className=\"input-line\">\n              <label className=\"input-fonts\">{t.consult.jobName}</label>\n              <input\n                type=\"text\"\n                name=\"jobName\"\n                value={formData.jobName}\n                onChange={handleChange}\n                className=\"input-field\"\n                placeholder={\n                  errors.jobName ? errors.jobName : t.consult.input.jobName\n                }\n              />\n            </div>\n\n            <div className=\"input-line\">\n              <label className=\"input-fonts\">\n                {t.consult.email}\n                <span className=\"must\">{t.consult.required}</span>\n              </label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                className=\"input-field\"\n                placeholder={errors.email ? errors.email : \"inf@example.com\"}\n              />\n            </div>\n\n            <div className=\"input-line\">\n              <label className=\"input-fonts\">\n                {t.consult.phone}\n                <span className=\"must\">{t.consult.required}</span>\n              </label>\n              <input\n                type=\"tel\"\n                name=\"phone\"\n                value={formData.phone}\n                onChange={handleChange}\n                className=\"input-field\"\n                placeholder={errors.phone ? errors.phone : \"0120-2345-6789\"}\n              />\n              <div\n                style={{\n                  fontWeight: \"400\",\n                  fontSize: \"28px\",\n                  letterSpacing: \"0px\",\n                  color: \"#1A1A1A\",\n                }}\n              >\n                {t.consult.phoneNote}\n              </div>\n            </div>\n\n            <div className=\"input-line\">\n              <label className=\"input-fonts\">{t.consult.message}</label>\n              <textarea\n                name=\"message\"\n                value={formData.message}\n                onChange={handleChange}\n                className=\"input-field\"\n                style={{\n                  height: \"200px\",\n                  resize: \"vertical\", // Allow vertical resize\n                  padding: \"10px 20px\",\n                }}\n                placeholder={\n                  errors.message ? errors.message : t.consult.input.message\n                }\n              />\n            </div>\n          </div>\n        </div>\n\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            width: \"700px\",\n            marginTop: \"70px\",\n            flexDirection: \"column\",\n            marginLeft: \"40px\",\n          }}\n        >\n          <span\n            style={{\n              fontWeight: \"500\",\n              fontSize: \"28px\",\n              letterSpacing: \"0.6px\",\n              lineHeight: \"41px\",\n              color: \"#333333\",\n            }}\n          >\n            {t.consult.agree1}\n            {t.consult.agree2}\n          </span>\n        </div>\n\n        <div className=\"privacy\">\n          <div className=\"privacy-line\">\n            <span className=\"privacy-f1\">{t.consult.privacyPolicy}</span>\n          </div>\n          <span className=\"privacy-f2\">{t.consult.policyInfo}</span>\n          <span className=\"privacy-f3\">{t.consult.managementTitle}</span>\n          <span className=\"privacy-f2\" style={{ marginTop: \"10px\" }}>\n            {t.consult.managementContent}\n          </span>\n        </div>\n\n        <div className=\"check\">\n          <label style={{ display: \"flex\", alignItems: \"center\" }}>\n            <input\n              type=\"checkbox\"\n              checked={isChecked}\n              onChange={handleCheckboxChange}\n            />\n          </label>\n          <span className=\"check-f\">{t.consult.checkLabel}</span>\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"submit-btn\"\n          disabled={!isChecked || isSubmitting}\n        >\n          {isSubmitting ? t.consult.buttonSubmitting : t.consult.buttonSubmit}\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 633, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}